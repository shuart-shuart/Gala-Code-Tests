<!DOCTYPE html>
<html>
<head>
  <title>Bidding Form</title>
</head>
<body>
  <h2>Enter Bidding Information</h2>
  <form id="bidding-form">
    <label for="name">Name:</label>
    <input type="text" id="name" required><br><br>
    <label for="bidding-price">Bidding Price (S$):</label>
    <input type="number" id="bidding-price" step="0.01" min="1500" required><br><br>
    <button type="submit">Submit</button>
    <p id="error-message" style="color: red; display: none;"></p>
  </form>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const biddingForm = document.getElementById('bidding-form');
      const errorMessage = document.getElementById('error-message');

      biddingForm.addEventListener('submit', function(event) {
        event.preventDefault();
        
        const name = document.getElementById('name').value;
        const biddingPrice = parseFloat(document.getElementById('bidding-price').value);

        if (!isNaN(biddingPrice) && biddingPrice >= 1500) {
          const csvData = `${name},${biddingPrice}\n`;
          downloadCSV('Data.csv', csvData);
          alert('Data submitted successfully!');
          biddingForm.reset();
          errorMessage.style.display = 'none';
        } else {
          errorMessage.textContent = 'Please enter a minimum bid of S$1500, thank you!';
          errorMessage.style.display = 'block';
        }
      });

      function downloadCSV(filename, text) {
        const element = document.createElement('a');
        element.setAttribute('href', 'data:text/csv;charset=utf-8,' + encodeURIComponent(text));
        element.setAttribute('download', filename);
        element.style.display = 'none';
        document.body.appendChild(element);
        element.click();
        document.body.removeChild(element);
      }
    });
  </script>
</body>
</html>
